<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
	<title> DayDayUp </title>
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<script>
		$(document).ready(function(){
			$("#commentID").on("click",function(){
				$("#commentBox").toggle();
			});
		});
	</script>

	<style>
		body {
			background-image: url('../images2.jpg');
			background-position: top left;
			background-attachment: fixed;
			background-repeat: no-repeat;
			background-size: cover;
		}
		.contain{
			margin: auto;
			padding-top: 50px;
			align-items: center;
			width: 500px;
		}
		.search {
		  padding: 30px;
		  background: rgb(34,34,34); /* for IE */
		  background: rgba(34,34,34,0.55);
		}
		.search h6, .search h4, .search h4 a { text-align: center; color: #ddd; font-weight: normal; }
		.form-class{
			margin: 0 auto;
		}
		.inputS{
			color: gray;
			padding-left: 5px;
			font-weight: normal;
			border-width: 0px;
			width: 250px;
			background-color: #ddd; /* for IE */
		}
		.inputY{
			color: gray;
			padding-left: 5px;
			font-weight: normal;
			height: 60px;
			width: 250px;
			border-width: 0px;
			background-color: #ddd;
			font-size: 16px;
		}
		.mySchedules {
			font-size:130%; 
			color:#6CD6CC; 
			font-weight:bold; 
			padding: 20px 10px 10px; 
			text-align:center
		}
		.listStyle {
			width:410px;
			margin:0 auto;
		}
		.listStyle ul {
			list-style-type: none;
			list-style-type: decimal !ie; /*IE 7- hack*/
			margin: 0;
			margin-left: 1em;
			padding: 0;
			counter-reset: li-counter;
		}
		.listStyle ul li{
			position: relative;
			margin-bottom: 1.5em;
			padding: 0.5em;
			background-color: #F0D756;
			padding-left: 58px;
		}
		.listStyle a{
			text-decoration:none;
			color: #556B2F;
			font-size:15px;
			font-family: 'Raleway', sans-serif;
		}
		
		.listStyle li:hover{
			box-shadow:inset -1em 0 #6CD6CC;
			-webkit-transition: box-shadow 0.5s; /* For Safari 3.1 to 6.0 */
			transition: box-shadow 0.5s;
		}
		.listStyle ul li:before {
			position: absolute;
			top: -0.3em;
			left: -0.5em;
			width: 1.8em;
			height: 1.2em;
			font-size: 2em;
			line-height: 1.2;
			font-weight: bold;
			text-align: center;
			color: white;
			background-color: #6CD6CC;
			transform: rotate(-20deg);
			-ms-transform: rotate(-20deg);
			-webkit-transform: rotate(-20deg);
			z-index: 99;
			overflow: hidden;
			content: counter(li-counter);
			counter-increment: li-counter;
		}
		label textarea{
			vertical-align: middle;
		}
		.header {
			margin-top: 120px;
			margin-left: auto;
			margin-right: auto;
			width: 500px;
			text-align: center;
			color: white;
			text-shadow: 2px 2px black;
			font-size: 200%;
			font-family: "Times New Roman", Times, serif;
			text-transform: uppercase;
		}
		.description {
			margin-left: auto;
			margin-right: auto;
			width: 550px;
			text-align: center;
			word-wrap: break-word;
			color: black;
			text-shadow: 2px 2px white;
			font-size: 130%;
			font-family: "Times New Roman", Times, serif;
			text-transform: uppercase;
		}
	
		/*this is the css for timeline*/
		.timeline {
			list-style: none;
			padding: 20px 0 20px;
			position: relative;
		}
		.timeline:before {
			top: 0;
			bottom: 0;
			position: absolute;
			content: " ";
			width: 3px;
			background-color: #eeeeee;
			right: 320px;/*position of timeline*/
			margin-left: -1.5px;
		}
		.timeline > li {
			margin-left: 300px;/*size of timeline panel*/
			margin-right: 300px;
			margin-bottom: 20px;
			position: relative;
		}
		.timeline > li:before,
		.timeline > li:after {
			content: " ";
			display: table;
		}
		.timeline > li:after {
			clear: both;
		}
		.timeline > li:before,
		.timeline > li:after {
			content: " ";
			display: table;
		}
		.timeline > li:after {
			clear: both;
		}
		.timeline > li > .timeline-panel {
			background-color: rgba(255, 255, 255, 0.5);
			width: calc( 100% - 75px );
			margin-left: 30px;
			float: left;
			border: 1px solid #d4d4d4;
			border-radius: 10px;
			padding: 20px;
			position: relative;
			-webkit-box-shadow: 0 1px 6px rgba(0, 0, 0, 0.175);
			box-shadow: 0 1px 6px rgba(0, 0, 0, 0.175);
		}
		.timeline > li > .timeline-panel:before {
			position: absolute;
			top: 26px;
			right: -15px;
			display: inline-block;
			border-top: 15px solid transparent;
			border-left: 15px solid #ccc;
			border-right: 0 solid #ccc;
			border-bottom: 15px solid transparent;
			content: " ";
		}
		.timeline > li > .timeline-panel:after {
			position: absolute;
			top: 27px;
			right: -14px;
			display: inline-block;
			border-top: 14px solid transparent;
			border-left: 14px solid #fff;
			border-right: 0 solid #fff;
			border-bottom: 14px solid transparent;
			content: " ";
		}
		.timeline > li > .timeline-badge {
			color: #fff;
			width: 50px;
			height: 50px;
			line-height: 50px;
			font-size: 1.4em;
			text-align: center;
			position: absolute;
			top: 16px;
			right: 0px;
			margin-left: -25px;
			background-color: #999999;
			z-index: 100;
			border-top-right-radius: 50%;
			border-top-left-radius: 50%;
			border-bottom-right-radius: 50%;
			border-bottom-left-radius: 50%;
		}
		.timeline > li.timeline-inverted > .timeline-panel {
			float: right;
		}
		.timeline > li.timeline-inverted > .timeline-panel:before {
			border-left-width: 0;
			border-right-width: 15px;
			left: -15px;
			right: auto;
		}
		.timeline > li.timeline-inverted > .timeline-panel:after {
			border-left-width: 0;
			border-right-width: 14px;
			left: -14px;
			right: auto;
		}
		.timeline-badge.primary {
			background-color: #2e6da4 !important;
		}
		.timeline-badge.success {
			background-color: #3f903f !important;
		}
		.timeline-badge.warning {
			background-color: #f0ad4e !important;
		}
		.timeline-badge.danger {
			background-color: #d9534f !important;
		}
		.timeline-badge.info {
			background-color: #5bc0de !important;
		}
		.timeline-title {
			margin-top: 0;
			color: inherit;
		}
		.timeline-body > p,
		.timeline-body > ul {
			margin-bottom: 0;
			text-align: right;
		}
		.timeline-body > p + p {
			margin-top: 5px;
		}
	</style>
</head>


<body>
      	<!-- Navbar -->
	<!-- <div id="bg"> -->
		<nav class="navbar navbar-inverse navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="/">Day Day Up</a>
				</div>
				<div id="navbar" class="navbar-collapse collapse">
					<ul class="nav navbar-nav">
					  <% if(logIn == true){%>
		                <li><a href="/home">Home</a></li>
		                <li><a href="/schedule">My moment</a></li>
		                <li><a href="/logout">Logout</a></li>
		              <% }else{ %>
		                <li><a href="/home">Home</a></li>
		                <li><a href="/login">Login</a></li>
		                <li><a href="/signup">Sign Up</a></li>
		              <%}%>
		            </ul>
		            <% if(logIn == true){%>
		              <li style="float: right; padding-top: 5px; color: gray;"><img src=<%= user.local.imagePath %> height="40" width="40" style="border-radius: 25px;" />&nbsp&nbsp<%= user.local.email %></li>
		            <% } %>

				</div>
			</div>
		</nav>

    <!-- end of navigation bar-->

    <!-- form for user input-->
    <h1 class="header"><%= schedules.title %>:</h1>&nbsp&nbsp&nbsp&nbsp<p class="description"><%= schedules.descrip %></p>

    
	<% if( schedules.posts.length == 0 ) { %>
       <p class="mySchedules"><text style="text-align: center; color: #556B2F;"> You have not posted anything yet!</text></p>
    <%} else { %>
	<!-- <div class="container"> -->
		<ul class="timeline">
			<% for (var i = 0; i < schedules.posts.length; i++) { %>
			<li>
				<div class="timeline-panel">
					<div class="timeline-heading">
						<div class="timeline-title" style="font-size: 20px;"><%=schedules.posts[i].content%></div>
					</div>
					<div>
						<div style="text-align: right;">
							<% if(logIn){%>
							<span id="commentID">Comment</span>
							&nbsp&nbsp&nbsp&nbsp
							<span style="font-size: 12px;"><%= schedules.posts[i].date %></span>
						</div>
						<div id="commentBox" style="display: none; text-align: center;">
							<form action="/comment/<%= schedules._id %>/<%= schedules.posts[i]._id%>" method="post" class="form-class"> 
								<textarea type="text" class='inputY' name="content" rows="5" placeholder="Comment Something here" style="width: 400px; margin-top: 10px; margin-bottom: 10px"></textarea>
								<div ><input type="submit" class='btn btn-primary' value="post" style="width: 80px;"><div>
									<input type="hidden" name="isSame" value="false">
								</form>
							</div>
							<%console.log("comment: "+schedules.posts[i].comments);%>
							<%} else {%>
							<span style="font-size: 12px;"><%= schedules.posts[i].date %></span>
							<%}%>			
					</div>
				</div>
			</li>
			<% } %>
		</ul>
	<!-- </div>  -->
	 <%}%>

	<!-- </div> -->




	<!-- Bootstrap JS -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	
</body>

</html>